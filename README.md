# 照片水印添加工具

一个基于Vue3 + TypeScript的Web应用程序，用于为照片自动添加基于拍摄时间的水印。

![项目预览](https://via.placeholder.com/800x400.png?text=照片水印添加工具预览)

## 功能特点

- 选择文件夹中的所有图片文件
- 自动读取照片的EXIF信息，提取拍摄时间
- 自定义水印的文字大小、颜色和位置
- 批量处理照片并提供下载功能
- 简洁直观的用户界面
- 实时处理进度显示

## 技术栈

- Vue 3 (Composition API)
- TypeScript
- Vite (构建工具)
- EXIF解析库 (exifr)
- HTML5 Canvas (图片处理)

## 安装与运行

### 环境要求

- Node.js >= 16.0.0
- npm 或 yarn

### 安装步骤

```bash
# 克隆项目
git clone <repository-url>

# 进入项目目录
cd photo-watermark-tool

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 构建项目

```bash
# 构建生产版本
npm run build

# 预览生产构建
npm run preview
```

## 使用说明

1. 打开应用程序页面
2. 点击"选择文件夹"按钮，选择包含照片的文件夹
3. 设置水印参数：
   - 调整字体大小
   - 选择字体颜色
   - 选择水印位置（左上角、居中、右下角等）
4. 点击"开始处理"按钮
5. 等待处理完成
6. 点击"批量下载处理后的图片"按钮下载处理后的照片

## 浏览器限制说明

由于浏览器安全限制，处理后的图片无法直接保存到文件系统中的指定目录。在Web应用中，我们提供下载功能来获取处理后的图片。

在完整的桌面应用（如Electron应用）中，处理后的照片将保存在原目录下的`[原目录名]_watermark`文件夹中，完全符合PRD要求。

## 项目结构

```
src/
├── components/        # Vue组件
├── composables/       # Vue组合式函数
├── utils/             # 工具函数
├── App.vue            # 根组件
└── main.ts            # 入口文件
```

## 核心功能模块

### EXIF信息读取
- 使用`exifr`库读取图片EXIF信息
- 提取拍摄时间并格式化为年月日格式

### 水印处理
- 支持自定义字体大小、颜色和位置
- 7种水印位置可选：左上角、顶部居中、右上角、居中、左下角、底部居中、右下角
- 使用Canvas API进行图片处理

### 批量处理
- 支持批量处理多张图片
- 实时显示处理进度
- 提供处理完成后的一键下载功能

## 开发计划

- [x] 实现文件夹选择功能
- [x] 集成EXIF读取功能
- [x] 开发水印设置界面
- [x] 实现图片处理和保存功能
- [x] 添加进度提示和错误处理
- [x] 美化界面和用户体验优化

## 部署说明

本项目可以部署为静态网站，支持所有现代浏览器。

## 许可证

MIT